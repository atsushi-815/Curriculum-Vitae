# Ansible改修案件

## 概要

2019年4月〜現在まで。</br>
既存のAnsibleのplaybookのリファクタリング作業、nginxの設計、構築などを担当。

### リファクタリング作業

別チーム作成済みのplaybookを規定のルールに沿ってリファクタリングを実施。一部、手動手順書の内容をplaybookに移し替える作業も実施。

### ミドルウェア詳細設計、構築

* nginxのバージョンアップ(1.16)したものをplaybookにする為の詳細設計〜構築用のplaybook作成、テストを担当。
* 設計ではパラメータシート作成を実施、playbookは既存バージョンのものを参考にしながら作成。</br>
インストール出来るかのbeforeチェック、インストール、afterチェック、アンインストールのプレイブックを作成。
* 障害発生時に備えた手順や各モジュールの追加手順などの各種ドキュメントも作成。
* 作成したプレイブックの動作検証ではVagrantで仮想環境を用意して作業を実施。

#### ポイント

* playbookを一から作成出来ます。
* nginxのバージョンアップ作業では、既存のバージョンがソースのダウンロードから行っていたものを、srpmを使用し設定ファイルをカスタマイズしたrpmファイルを作成し、そちらをインストールする手順にしたことによりコード数を減らし可読性を上げました。
* nginxバージョンアップに伴い必要なモジュールを選定、rpm作成の為のコンパイル作業などを行った為、nginxについて知見があります。
* プレイブックの作成にgitlabを使用し、gitでの開発についての知見があります。
